<!DOCTYPE html>
<html ng-app="myApp">
  <head>
    <meta charset="utf-8">
    <title>Personal Finance</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body ng-controller="transactionController">

    <div class="container">

      <h1 class="text-center">Account Transactions</h1>

      <form class="form-inline">
        <div class="form-group">
          <input type="date" class="form-control" ng-model="transaction.date" placeholder="Date" required>
        </div>
        <div class="form-group">
          <input type="text" class="form-control" ng-model="transaction.payee" placeholder="Payee" required>
        </div>
        <div class="form-group">
          <input type="text" class="form-control" ng-model="transaction.category" placeholder="Category" required>
        </div>
        <div class="form-group">
          <input type="number" class="form-control" ng-model="transaction.amount" placeholder="Amount" step="0.01" required>
        </div>
        <button ng-hide="edit" ng-click="postTransaction()" class="btn btn-default"><span class="glyphicon glyphicon-ok"></span></button>
        <button ng-show="edit" ng-click="updateTransaction()" class="btn btn-default"><span class="glyphicon glyphicon-ok"></span></button>
      </form>

      <table class="table table-striped">
        <thead>
          <tr>
            <th>Date</th>
            <th>Payee</th>
            <th>Category</th>
            <th>Amount</th>
            <th colspan="3"></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="transaction in transactions">
            <td>{{ formatDate(transaction.date) }}</td>
            <td>{{ transaction.payee }}</td>
            <td>{{ transaction.category }}</td>
            <td>{{ transaction.amount }}</td>
            <td class="text-right">
              <button class="btn btn-default" ng-click="editTransaction(transaction._id)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
              <button class="btn btn-default" ng-click="deleteTransaction(transaction._id)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
            </td>
          </tr>
        </tbody>
      </table>

    </div>

    <script src="./js/moment.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
    <script src="./js/app.js" type="text/javascript"></script>
    <script src="./js/controllers.js" type="text/javascript"></script>
    <script src="./js/services.js" type="text/javascript"></script>
  </body>
</html>
